{"ast":null,"code":"export const authEndpoint = \"https://accounts.spotify.com/authorize\";\n\n// After our user authenticates their Spotify account,\n// our app will redirect them back here. This should\n// be changed to reflect page navigation\nconst redirectUri = \"http://localhost:3000/profile/\";\n\n// This is the unique client ID for our Spotify app\nconst clientId = \"b3bb9bf3313a4287bbd367c6f7a34232\";\nconst scopes = [\"user-read-currently-playing\", \"user-read-recently-played\", \"user-read-playback-state\", \"user-top-read\", \"user-modify-playback-state\"];\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\"%20\")}&response_type=token&show_dialog=true`;\nexport const getToken = () => {\n  const hash = window.location.hash;\n  let token = window.localStorage.getItem(\"token\");\n  if (!token && hash) {\n    token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1];\n    window.location.hash = \"\";\n    window.localStorage.setItem(\"token\", token);\n  }\n  return token;\n};","map":{"version":3,"names":["authEndpoint","redirectUri","clientId","scopes","loginUrl","join","getToken","hash","window","location","token","localStorage","getItem","substring","split","find","elem","startsWith","setItem"],"sources":["C:/Users/tomas/Documents/F22/Radio/intern_project/client/src/spotify.js"],"sourcesContent":["export const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// After our user authenticates their Spotify account,\r\n// our app will redirect them back here. This should\r\n// be changed to reflect page navigation\r\nconst redirectUri = \"http://localhost:3000/profile/\";\r\n\r\n// This is the unique client ID for our Spotify app\r\nconst clientId = \"b3bb9bf3313a4287bbd367c6f7a34232\";\r\n\r\nconst scopes = [\r\n    \"user-read-currently-playing\",\r\n    \"user-read-recently-played\",\r\n    \"user-read-playback-state\",\r\n    \"user-top-read\",\r\n    \"user-modify-playback-state\",\r\n];\r\n\r\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\"%20\")}&response_type=token&show_dialog=true`;\r\n\r\nexport const getToken = () => {\r\n    const hash = window.location.hash;\r\n    let token = window.localStorage.getItem(\"token\");\r\n\r\n    if (!token && hash) {\r\n        token = hash\r\n            .substring(1)\r\n            .split(\"&\")\r\n            .find((elem) => elem.startsWith(\"access_token\"))\r\n            .split(\"=\")[1];\r\n\r\n        window.location.hash = \"\";\r\n        window.localStorage.setItem(\"token\", token);\r\n    }\r\n\r\n    return token;\r\n};"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG,wCAAwC;;AAEpE;AACA;AACA;AACA,MAAMC,WAAW,GAAG,gCAAgC;;AAEpD;AACA,MAAMC,QAAQ,GAAG,kCAAkC;AAEnD,MAAMC,MAAM,GAAG,CACX,6BAA6B,EAC7B,2BAA2B,EAC3B,0BAA0B,EAC1B,eAAe,EACf,4BAA4B,CAC/B;AAED,OAAO,MAAMC,QAAQ,GAAI,GAAEJ,YAAa,cAAaE,QAAS,iBAAgBD,WAAY,UAASE,MAAM,CAACE,IAAI,CAAC,KAAK,CAAE,uCAAsC;AAE5J,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAC1B,MAAMC,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI;EACjC,IAAIG,KAAK,GAAGF,MAAM,CAACG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAEhD,IAAI,CAACF,KAAK,IAAIH,IAAI,EAAE;IAChBG,KAAK,GAAGH,IAAI,CACPM,SAAS,CAAC,CAAC,CAAC,CACZC,KAAK,CAAC,GAAG,CAAC,CACVC,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,UAAU,CAAC,cAAc,CAAC,CAAC,CAC/CH,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAElBN,MAAM,CAACC,QAAQ,CAACF,IAAI,GAAG,EAAE;IACzBC,MAAM,CAACG,YAAY,CAACO,OAAO,CAAC,OAAO,EAAER,KAAK,CAAC;EAC/C;EAEA,OAAOA,KAAK;AAChB,CAAC"},"metadata":{},"sourceType":"module"}